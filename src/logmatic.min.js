!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.logmatic=b()}(this,function(){function a(a,b){if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}function b(a){console&&[{f:"log",l:"info"},{f:"info"},{f:"trace"},{f:"warn"},{f:"error"}].forEach(function(b){var c=b.f,d=b.l||b.f,e=console[c];console[c]=function(){var b=null;a&&(b={},b[a]=d);var c=Array.prototype.slice.call(arguments).map(function(a){return"object"==typeof a?JSON.stringify(a):String(a)}).join(" ");r(c,b),e.apply?e.apply(console,arguments):e(c)}})}function c(a){if(a){var b=window.onerror;window.onerror=function(c,d,e,f){var g={};g[a]={type:"JSException",url:d,line:e,col:f},r(c,g),b&&"function"==typeof b&&b.apply(window,arguments)}}}function d(a,b,c){function d(){window.clearTimeout(g),e=!0,g=window.setTimeout(function(){e=!1},a)}var e=!0,f=0;window.onload=d,window.onmousemove=d,window.onmousedown=d,window.onclick=d,window.onscroll=d,window.onkeypress=d;var g;window.setInterval(function(){f=e?a+f:f},a),window.setInterval(function(){f>0&&(c(f),f=0)},b)}var e,f,g,h,i,j=500,k=10,l=-1,m=null,n=!1,o=null,p=function(a){e="https://api.logmatic.io/v1/input/"+a},q=function(a){a=a||{},null!=a.lingerMs&&(j=a.lingerMs),null!=a.maxPostCount&&(k=a.maxPostCount),null!=a.maxWaitingCount&&(l=a.maxWaitingCount)},r=function(b,c){if(!e)return void console.error("Please init Logmatic before pushing events");var d={message:b};a(c,d),s(d)},s=function(b){a(f,b),i&&(b[i]=window.location.href),m=m||[],m.push(JSON.stringify(b)),l>=0&&m.length>l&&m.shift(),t(!0)},t=function(a){!n&&!o&&m&&m.length&&(a&&j>=0?o=setTimeout(u,j):u())},u=function(){var a;k>0&&m.length>k?a="["+m.splice(0,k).join(",")+"]":(a=m.length>1?"["+m.join(",")+"]":m[0],m=null),o=null,n=!0;var b;"undefined"!=typeof XDomainRequest&&(b=new XDomainRequest),b=new XMLHttpRequest,b.open("POST",e,!0),b.constructor===XMLHttpRequest&&(b.setRequestHeader("Content-Type","application/json; charset=UTF-8"),g&&b.setRequestHeader("X-Logmatic-Add-IP",g),h&&b.setRequestHeader("X-Logmatic-Add-UserAgent",h)),b.onload=function(){n=!1,t(!1)},b.onerror=function(){n=!1,t(!1)},b.send(a)},v=function(a){f=a},w=function(b,c,e,f){b=b||2e4,c=c||3e5,e=e||{},f=f||"Heart beat",d(b,c,function(b){var c={};a(e,c),c.duration=b,r(f,c)})},x=function(a){i=a},y=function(a){g=a},z=function(a){h=a};return{init:p,log:r,timeTrack:w,setMetas:v,setSendConsoleErrors:c,setSendConsoleLogs:b,setIPTracking:y,setUserAgentTracking:z,setURLTracking:x,setBulkOptions:q}});
//# sourceMappingURL=logmatic.min.js.map